
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PipCraft - Smart Trading Tools</title>
    <meta name="description" content="Simplify your trading workflow with PipCraft's pip calculator, risk manager, journal, economic calendar, and more — free for all traders." />
    <meta name="author" content="PipCraft" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EJWTCMX08H"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-EJWTCMX08H');
    </script>

    <!-- OneSignal Web SDK - Load this early to ensure it's ready -->
    <script>
      // Pre-define OneSignalDeferred array to capture early calls
      window.OneSignalDeferred = window.OneSignalDeferred || [];
    </script>
    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
    <script>
      // Initialize OneSignal as soon as possible
      window.OneSignalDeferred.push(async function(OneSignal) {
        try {
          await OneSignal.init({
            appId: "d3c47d59-7e65-49d6-a331-4ae93e3423bb",
            allowLocalhostAsSecureOrigin: true,
            promptOptions: {
              slidedown: {
                prompts: [{
                  type: "push",
                  autoPrompt: true,
                  text: {
                    actionMessage: "Get instant alerts for market movements and trading opportunities!",
                    acceptButton: "Allow",
                    cancelButton: "Later"
                  },
                  delay: {
                    pageViews: 1,
                    timeDelay: 5
                  }
                }]
              }
            }
          });
          
          console.log("OneSignal successfully initialized!");
          
          // Initialize event handlers
          OneSignal.Notifications.addEventListener('permissionChange', function(permission) {
            console.log('OneSignal: Permission changed to', permission);
          });
          
          OneSignal.Notifications.addEventListener('permissionPromptDisplay', function() {
            console.log('OneSignal: Prompt displayed');
          });
        } catch (error) {
          console.error("Error initializing OneSignal:", error);
        }
      });
    </script>

    <!-- Favicon: Clean "PC" in green & white circle -->
    <link rel="icon" href="/lovable-uploads/9f011f2b-33e0-475a-8687-70b7270354e8.png" type="image/png" />

    <!-- OpenGraph and Social Meta Tags -->
    <meta property="og:title" content="PipCraft – All-in-One Trading Command Center" />
    <meta property="og:description" content="Simplify your trading workflow with PipCraft's pip calculator, risk manager, journal, economic calendar, and more — free for all traders." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/lovable-uploads/e9258d34-f1dd-4b8b-bd7f-d96345dcd4c9.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content="https://pipcrafts.com/" />

    <!-- Twitter Card (X) Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:title" content="PipCraft – All-in-One Trading Command Center" />
    <meta name="twitter:description" content="Simplify your trading workflow with PipCraft's pip calculator, risk manager, journal, economic calendar, and more — free for all traders." />
    <meta name="twitter:image" content="/lovable-uploads/e9258d34-f1dd-4b8b-bd7f-d96345dcd4c9.png" />

    <!-- WhatsApp/Telegram extended support (og:image covers these, but optional for redundancy) -->
    <meta itemprop="image" content="/lovable-uploads/e9258d34-f1dd-4b8b-bd7f-d96345dcd4c9.png" />
    <meta name="image" content="/lovable-uploads/e9258d34-f1dd-4b8b-bd7f-d96345dcd4c9.png" />

    <meta name="google-site-verification" content="6CgL4XfCGRKjZvRu-H19HF4h98NEPsbsglcDFHNKsF0" />

    <link rel="canonical" href="https://pipcrafts.com/" />
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  </head>

  <body>
    <div id="root"></div>
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
